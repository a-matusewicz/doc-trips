{% extends "db/base.html" %}
{% load crispy_forms_tags %}
{% load links %}

{% block header %}
<h2> Assign {{ object }} to trip </h2>
{% endblock %}

{% block content %}

<h4> Registration </h4>
{% if registration %}
<p> {{ registration|detail_link }} </p>
{% else %}
<p> No registration </p>
{% endif %}

<h4> Preferences </h4>
{% if registration and registration.is_non_swimmer %}
<p> {{ object }} has indicated on their registration that they are a NON-SWIMMER. All preferences shown here are trips which allow non-swimmers <p>
{% endif %}

<table class="table table-condensed">
  <tr>
    <td class="col-sm-3"> <strong> First choice trips </strong></td> 
    <td> {{ firstchoice_trips|join:", "|default:"N/A" }} </td> 
  </tr>
  <tr>
    <td> <strong> Preferred trips </strong></td> 
    <td> {{ preferred_trips|join:", "|default:"N/A" }} </td> </tr>
  <tr>
    <td> <strong> Available trips </strong></td> 
    <td> {{ available_trips|join:", "|default:"N/A" }} </td> 
  </tr>
</table>

{% crispy form %}

{% endblock %}
