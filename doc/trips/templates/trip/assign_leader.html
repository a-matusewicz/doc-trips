{% extends "db/base.html" %}
{% load crispy_forms_tags %}
{% load links %}

{% block content %}

<div class="page-heading">
  <h3> Add Leader to {{ trip }} </h3>
</div>

<p><strong>Summary:</strong> {{ trip.template.description_summary }} </p>

<p><strong>Current Assigned Leaders:</strong>
  {% for leader in trip.leaders.all %}
  {{ leader|detail_link }}
  {% endfor %}
</p>

<h4> Prospective Leaders </h4>

This list shows all Accepted and Waitlisted leaders who indicated that they prefer of are available for {{ trip.template.triptype | detail_link }} and {{ trip.section | detail_link }}.
<table class="table table-condensed table=striped">
  <tr>
    <th/>
    <th> Trip Assignment </th>
    <th> Status </th>
    <th> {{ trip.template.triptype }} </th>
    <th> {{ trip.section }} </th>
  </tr>
  {% for leader, assign_form, triptype_pref, section_pref in leader_applications %}
  <tr>
    <td> {{ leader|detail_link:leader }} </td>
    <td> 
      {% if assign_form %}
      {% crispy assign_form %}
      {% else %} 
      {{ leader.assigned_trip | detail_link }}
      {% endif %}</td>
    <td> {{ leader.application.status }} </td>
    <td> {{ triptype_pref }} </td>
    <td> {{ section_pref }} </td>
  </tr>
  {% endfor %}
</table>


{% endblock content %}
