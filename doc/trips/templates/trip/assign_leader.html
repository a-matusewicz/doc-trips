{% extends "db/base.html" %}
{% load crispy_forms_tags %}
{% load links %}

{% block header %}
  <h3> Add Leader to {{ trip }} <small> {{ trip.template.description_summary }} </small></h3>
{% endblock %}

{% block content %}

<h5> Current Assigned Leaders </h5>
<p>
  <ul>
  {% for leader in trip.leaders.all %}
  <li>{{ leader|detail_link }} ({{ leader.gender|lower }})</li>
  {% endfor %}
  </ul>
</p>

<h4> Prospective Leaders </h4>

This list shows all leaders who indicated that they prefer of are available for {{ trip.template.triptype | detail_link }} and {{ trip.section | detail_link }}.
<table class="table table-condensed table=striped">
  <tr>
    <th/>
    <th> Gender </th>
    <th> Trip Assignment </th>
    <th> Status </th>
    <th> {{ trip.template.triptype }} </th>
    <th> {{ trip.section }} </th>
  </tr>
  {% for leader, assign_form, triptype_pref, section_pref in leader_applications %}
  <tr>
    <td> {{ leader|detail_link:leader }} </td>
    <td> {{ leader.gender|lower }} </td>
    <td> 
      {% if assign_form %}
      {% crispy assign_form %}
      {% else %} 
      {{ leader.assigned_trip | detail_link }}
      {% endif %}</td>
    <td> {{ leader.status }} </td>
    <td> {{ triptype_pref }} </td>
    <td> {{ section_pref }} </td>
  </tr>
  {% endfor %}
</table>


{% endblock content %}
